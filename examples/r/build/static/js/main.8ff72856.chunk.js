(this["webpackJsonpr-example"]=this["webpackJsonpr-example"]||[]).push([[0],{14:function(e,t,a){e.exports=a(28)},25:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(0),m=a.n(l),c=a(5),r=a.n(c),i=a(8),o=a(6),s=a(3);var u=function(e,t){switch(t.type){case"ADD_ITEM":console.log(t.payload);var a=t.payload,l=a.name,m=a.value,c=Object(s.a)(e.items);return c.push({id:c[c.length-1].id+1,name:l,value:m}),console.log(c),Object(n.a)(Object(n.a)({},e),{},{items:Object(s.a)(c)});case"DELETE_ITEM":var r=e.items.filter((function(e){return e.id!==t.payload}));return Object(n.a)(Object(n.a)({},e),{},{items:Object(s.a)(r)});case"EDIT_ITEM":var i=t.payload,o=i.id,u=i.name,d=i.value,b=e.items.map((function(e){return e.id===o?Object(n.a)(Object(n.a)({},e),{},{name:u,value:d}):e}));return Object(n.a)(Object(n.a)({},e),{},{items:Object(s.a)(b)});case"ADD_MATERIAL":var v=t.payload,p=v.name,E=v.value,f=Object(s.a)(e.materials);return f.push({id:f[f.length-1].id+1,name:p,value:E}),Object(n.a)(Object(n.a)({},e),{},{materials:Object(s.a)(f)});case"DELETE_MATERIAL":var y=e.materials.filter((function(e){return e.id!==t.payload}));return Object(n.a)(Object(n.a)({},e),{},{materials:Object(s.a)(y)});case"EDIT_MATERIAL":var N=t.payload,j=N.id,O=N.name,g=N.value,C=e.materials.map((function(e){return e.id===j?Object(n.a)(Object(n.a)({},e),{},{name:O,value:g}):e}));return Object(n.a)(Object(n.a)({},e),{},{materials:Object(s.a)(C)});default:return e}},d=(a(25),a(2));var b=function(e){var t=e.items.length?e.items[0].value:null,a=e.materials.length?e.materials[0].value:null,n=Object(l.useState)(t),c=Object(d.a)(n,2),r=c[0],i=c[1],o=Object(l.useState)(a),s=Object(d.a)(o,2),u=s[0],b=s[1],v=Object(l.useState)(""),p=Object(d.a)(v,2),E=p[0],f=p[1],y=Object(l.useState)(null),N=Object(d.a)(y,2),j=N[0],O=N[1];return m.a.createElement("div",{className:"py-3 py-md-0"},m.a.createElement("div",{className:"row align-items-center justify-content-center"},m.a.createElement("div",{className:"col-md-5 col-xl-3"},m.a.createElement("p",{className:"mb-2 mb-md-0"},"\u041f\u0440\u0435\u0434\u043c\u0435\u0442")),m.a.createElement("div",{className:"col-md-5 col-xl-3"},e.items&&e.items.length>0?m.a.createElement("select",{className:"form-control",name:"item",onChange:function(t){var a=+t.target.value,n=e.items.find((function(e){return e.id===a}));i(n.value)}},e.items.map((function(e){return m.a.createElement("option",{key:"i-"+e.id,value:e.id},e.name)}))):m.a.createElement("select",{className:"form-control",name:"item",disabled:!0},m.a.createElement("option",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")))),m.a.createElement("div",{className:"row align-items-center justify-content-center mt-3 mt-md-5"},m.a.createElement("div",{className:"col-md-5 col-xl-3"},m.a.createElement("p",{className:"mb-2 mb-md-0"},"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b")),m.a.createElement("div",{className:"col-md-5 col-xl-3"},e.materials&&e.materials.length>0?m.a.createElement("select",{className:"form-control",name:"material",onChange:function(t){var a=+t.target.value,n=e.materials.find((function(e){return e.id===a}));b(n.value)}},e.materials.map((function(e){return m.a.createElement("option",{key:"m-"+e.id,value:e.id},e.name)}))):m.a.createElement("select",{className:"form-control",name:"material",disabled:!0},m.a.createElement("option",null,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")))),m.a.createElement("div",{className:"row align-items-center justify-content-center mt-3 mt-md-5"},m.a.createElement("div",{className:"col-md-5 col-xl-3"},m.a.createElement("p",{className:"mb-2 mb-md-0"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e")),m.a.createElement("div",{className:"col-md-5 col-xl-3"},m.a.createElement("input",{className:"form-control px-3",type:"text",name:"count",placeholder:"0",value:E,autoComplete:"off",onChange:function(e){var t=e.target.value.trim().replace(".","");isFinite(t)&&f(t)}}))),m.a.createElement("div",{className:"text-center mt-5"},m.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary",disabled:!r||!u||!E,onClick:function(){O(r*u*E)}},"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c")),j&&m.a.createElement("p",{className:"text-center h5 font-weight-normal mt-5 mb-0"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 ",m.a.createElement("span",{className:"font-weight-bold"},j)," \u0435\u0434\u0438\u043d\u0438\u0446"))};var v=function(e){return m.a.createElement(l.Fragment,null,m.a.createElement("div",{className:"modal-backdrop show"}),m.a.createElement("div",{className:"modal",onClick:e.onRequestClose},m.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},m.a.createElement("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()}},m.a.createElement("div",{className:"px-4 pt-4 text-center"},m.a.createElement("h5",{className:"modal-title"},e.title)),m.a.createElement("div",{className:"p-4 text-center"},m.a.createElement("p",{className:"mb-0"},e.text)),m.a.createElement("div",{className:"d-flex justify-content-center px-4 pb-4"},m.a.createElement("button",{type:"button",className:"btn btn-primary mx-3",onClick:e.onBtnClick},e.button),e.addButton&&m.a.createElement("button",{type:"button",className:"btn btn-secondary mx-3",onClick:e.onRequestClose},e.addButton))))))};var p=function(e){return m.a.createElement("div",{className:"row py-3 py-sm-5 py-md-3"+(e.new?"":" border-bottom")},m.a.createElement("div",{className:"col-md-2 col-xl-1"},m.a.createElement("p",{className:"mb-2"},"id"),m.a.createElement("input",{className:"form-control p-2",type:"text",name:"id",value:e.id,readOnly:!0})),m.a.createElement("div",{className:"col-md mt-3 mt-md-0"},m.a.createElement("p",{className:"mb-2"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),m.a.createElement("input",{className:"form-control p-2",type:"text",name:"name",value:e.name,autoComplete:"off",readOnly:!e.editable,onChange:e.onNameChange}),e.rels&&m.a.createElement("p",{className:"mt-3 mb-2"},"\u041f\u0440\u0438\u0432\u044f\u0437\u043a\u0438")),m.a.createElement("div",{className:"col-md-3 mt-3 mt-md-0 mb-3 mb-sm-0"},"items"===e.type?m.a.createElement("p",{className:"mb-2"},"\u041f\u043b\u043e\u0449\u0430\u0434\u044c, \u043c",m.a.createElement("sup",null,"2")):m.a.createElement("p",{className:"mb-2"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043c",m.a.createElement("sup",null,"2"),", \u0435\u0434."),m.a.createElement("input",{className:"form-control p-2",type:"text",name:"value",value:e.value,autoComplete:"off",readOnly:!e.editable,onChange:e.onValueChange})),m.a.createElement("div",{className:"col-md-3 col-lg-2 mt-3 mt-sm-5 mt-md-0 mb-3 mb-sm-0"},m.a.createElement("div",{className:"row"},e.editable?m.a.createElement(l.Fragment,null,m.a.createElement("div",{className:"col-6 col-md"},m.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary w-100",disabled:""===e.name||""===e.value,onClick:e.onSaveClick(e.id,e.name,e.value)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),m.a.createElement("div",{className:"col-6 col-md mt-md-2"},m.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary w-100",disabled:e.editableParameterID,onClick:e.onCancelClick},"\u041e\u0442\u043c\u0435\u043d\u0430"))):m.a.createElement(l.Fragment,null,m.a.createElement("div",{className:"col-6 col-md"},m.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary w-100",disabled:e.disabled,onClick:e.onEditClick(e.id,e.name,e.value)},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),m.a.createElement("div",{className:"col-6 col-md mt-md-2"},m.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary w-100",disabled:e.disabled,onClick:e.onDelClick(e.id,e.name)},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))))};var E=function(e){var t,a=Object(l.useState)({id:null,name:"",modal:!1}),c=Object(d.a)(a,2),r=c[0],i=c[1],o=function(e,t){return function(){i({id:e,name:t,modal:!0})}},s=Object(l.useState)({id:null,name:"",value:""}),u=Object(d.a)(s,2),b=u[0],E=u[1],f=function(){E({id:null,name:"",value:""})},y=function(e,t,a){return function(){E({id:e,name:t,value:a})}},N=function(t,a,n){return function(){E({id:null,name:"",value:""}),e.onSave(t,a,n)()}},j=function(e){return function(t){switch(e){case"name":var a=t.target.value;E(Object(n.a)(Object(n.a)({},b),{},{name:a}));break;case"value":var l=t.target.value.trim();isFinite(l)&&E(Object(n.a)(Object(n.a)({},b),{},{value:l}))}}};return Object(l.useEffect)((function(){E({id:null,name:"",value:""})}),[e.type]),m.a.createElement(l.Fragment,null,m.a.createElement("div",null,m.a.createElement("div",{className:"text-right"},m.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:b.id,onClick:(t="-",function(){E({id:t,name:"",value:""})})},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")),"-"===b.id&&m.a.createElement("div",{className:"mt-3 mt-sm-5"},m.a.createElement(p,{new:!0,editable:!0,id:b.id,name:b.name,value:b.value,type:e.type,onNameChange:j("name"),onValueChange:j("value"),onSaveClick:N,onCancelClick:f})),m.a.createElement("div",{className:"mt-3 mt-sm-5 border-top"},e.data.map((function(t){return m.a.createElement(p,{key:t.id,id:t.id,name:b.id===t.id?b.name:t.name,value:b.id===t.id?b.value:t.value,type:e.type,editable:b.id===t.id,disabled:b.id&&b.id!==t.id,onNameChange:j("name"),onValueChange:j("value"),onEditClick:y,onDelClick:o,onSaveClick:N,onCancelClick:f})})),!e.data.length&&m.a.createElement("p",{className:"mt-5 mb-0 text-center"},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"))),r.modal&&m.a.createElement(v,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 "+("items"===e.type?"\u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0430":"\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430"),text:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "+("items"===e.type?"\u043f\u0440\u0435\u0434\u043c\u0435\u0442 ":"\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b ")+r.name+"?",button:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",addButton:"\u041e\u0442\u043c\u0435\u043d\u0430",onBtnClick:function(t){return function(){i({id:null,name:"",modal:!1}),e.onDelete(t)()}}(r.id),onRequestClose:function(){return i(Object(n.a)(Object(n.a)({},r),{},{modal:!1}))}}))};a(26),a(27);var f={addItem:function(e){return{type:"ADD_ITEM",payload:e}},deleteItem:function(e){return{type:"DELETE_ITEM",payload:e}},editItem:function(e){return{type:"EDIT_ITEM",payload:e}},addMaterial:function(e){return{type:"ADD_MATERIAL",payload:e}},deleteMaterial:function(e){return{type:"DELETE_MATERIAL",payload:e}},editMaterial:function(e){return{type:"EDIT_MATERIAL",payload:e}}},y=Object(i.b)((function(e){return{items:e.items,materials:e.materials}}),f)((function(e){var t=Object(l.useState)({id:"items",name:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b"}),a=Object(d.a)(t,2),n=a[0],c=a[1],r=function(e){return function(){c(e)}},i=[{id:"items",name:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b"},{id:"materials",name:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"},{id:"calculator",name:"\u0420\u0430\u0441\u0447\u0435\u0442"}].map((function(e){var t=["rounded-0","btn","btn-primary","px-2","px-sm-3","py-3","btn-nav"];return n.id===e.id&&t.push("active"),m.a.createElement("button",{key:e.id,type:"button",className:t.join(" "),onClick:r(e)},e.name)})),o="items"===n.id?m.a.createElement(E,{type:"items",data:e.items,onDelete:function(t){return function(){e.deleteItem(t)}},onSave:function(t,a,n){return function(){"-"===t?e.addItem({name:a,value:n}):e.editItem({id:t,name:a,value:n})}}}):"materials"===n.id?m.a.createElement(E,{type:"materials",data:e.materials,onDelete:function(t){return function(){e.deleteMaterial(t)}},onSave:function(t,a,n){return function(){"-"===t?e.addMaterial({name:a,value:n}):e.editMaterial({id:t,name:a,value:n})}}}):m.a.createElement(b,{items:e.items,materials:e.materials});return m.a.createElement("div",{className:"pt-5"},m.a.createElement("div",{className:"bg-primary fixed-top"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"d-flex"},i))),m.a.createElement("div",{className:"mt-3 mt-xl-5 py-3 py-sm-5"},m.a.createElement("div",{className:"container"},m.a.createElement("h3",{className:"mb-3 mb-sm-5"},n.name),o)))})),N=function(){try{var e=localStorage.getItem("myState");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),j=Object(o.b)(u,Object(n.a)(Object(n.a)({},{items:[{id:1,name:"I1",value:"10"},{id:2,name:"I2",value:"15"},{id:3,name:"I3",value:"20"}],materials:[{id:1,name:"M1",value:"80"},{id:2,name:"M2",value:"90"},{id:3,name:"M3",value:"100"}]}),N));j.subscribe(function(e,t){var a,n,l=!1;return function m(){if(l)return a=arguments,void(n=this);e.apply(this,arguments),l=!0,setTimeout((function(){l=!1,a&&(m.apply(n,a),a=n=null)}),t)}}((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("myState",t)}catch(a){}}(j.getState())})),1e3),r.a.render(m.a.createElement(i.a,{store:j},m.a.createElement(y,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.8ff72856.chunk.js.map