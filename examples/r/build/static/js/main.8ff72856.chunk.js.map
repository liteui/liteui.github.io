{"version":3,"sources":["redux/reducers.js","redux/actions.js","components/Calculator.js","components/Modal.js","components/Row.js","components/Table.js","App.js","index.js","redux/localStorage.js"],"names":["reducer","state","action","type","console","log","payload","addItemName","name","addItemValue","value","addItems","items","push","id","length","delItems","filter","i","editItemId","editItemName","editItemValue","editItems","map","addMaterialName","addMaterialValue","addMaterials","materials","delMaterials","editMaterialId","editMaterialName","editMaterialValue","editMaterials","Calculator","props","startingItem","startingMaterial","useState","item","setItem","material","setMaterial","count","setCount","result","setResult","className","onChange","e","target","find","key","disabled","placeholder","autoComplete","trim","replace","isFinite","onClick","Modal","onRequestClose","stopPropagation","title","text","onBtnClick","button","addButton","Row","new","readOnly","editable","onNameChange","rels","onValueChange","onSaveClick","editableParameterID","onCancelClick","onEditClick","onDelClick","Table","modal","delItem","setDelItem","deleteItem","activeItem","setActiveItem","cancelItem","editItem","saveItem","onSave","inputChange","input","useEffect","data","onDelete","acceptDel","mapDispatchToProps","addItem","addMaterial","deleteMaterial","editMaterial","connect","activeTab","setActiveTab","changeTab","tab","tabsNav","classes","join","tabContent","persistedState","serializedState","localStorage","getItem","JSON","parse","err","loadState","store","createStore","subscribe","func","ms","savedArgs","savedThis","isThrottled","wrapper","arguments","this","apply","setTimeout","throttle","stringify","saveState","getState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8ff72856.chunk.js","sourcesContent":["import { ADD_ITEM, DELETE_ITEM, EDIT_ITEM, ADD_MATERIAL, DELETE_MATERIAL, EDIT_MATERIAL } from './actions';\r\n\r\nfunction reducer(state, action) {\r\n  switch (action.type) {\r\n\r\n    case ADD_ITEM:\r\n      console.log(action.payload);\r\n      let { name: addItemName, value: addItemValue } = action.payload;\r\n      let addItems = [...state.items];\r\n      addItems.push({id: addItems[addItems.length - 1].id + 1, name: addItemName, value: addItemValue});\r\n      console.log(addItems);\r\n\r\n      return {\r\n        ...state,\r\n        items: [...addItems]\r\n      };\r\n\r\n    case DELETE_ITEM:\r\n      let delItems = state.items.filter(i => i.id !== action.payload);\r\n\r\n      return {\r\n        ...state,\r\n        items: [...delItems]\r\n      };\r\n\r\n    case EDIT_ITEM:\r\n      let { id: editItemId, name: editItemName, value: editItemValue } = action.payload;\r\n      let editItems = state.items.map(i => i.id === editItemId ? {...i, name: editItemName, value: editItemValue} : i);\r\n\r\n      return {\r\n        ...state,\r\n        items: [...editItems]\r\n      }\r\n  \r\n    case ADD_MATERIAL:\r\n      let { name: addMaterialName, value: addMaterialValue } = action.payload;\r\n      let addMaterials = [...state.materials];\r\n      addMaterials.push({id: addMaterials[addMaterials.length - 1].id + 1, name: addMaterialName, value: addMaterialValue});\r\n  \r\n      return {\r\n        ...state,\r\n        materials: [...addMaterials]\r\n      };\r\n  \r\n    case DELETE_MATERIAL:\r\n      let delMaterials = state.materials.filter(i => i.id !== action.payload);\r\n  \r\n      return {\r\n        ...state,\r\n        materials: [...delMaterials]\r\n      };\r\n  \r\n    case EDIT_MATERIAL:\r\n      let { id: editMaterialId, name: editMaterialName, value: editMaterialValue } = action.payload;\r\n      let editMaterials = state.materials.map(i => i.id === editMaterialId ? {...i, name: editMaterialName, value: editMaterialValue} : i);\r\n  \r\n      return {\r\n        ...state,\r\n        materials: [...editMaterials]\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","export const ADD_ITEM = 'ADD_ITEM';\r\nexport const DELETE_ITEM = 'DELETE_ITEM';\r\nexport const EDIT_ITEM = 'EDIT_ITEM';\r\nexport const ADD_MATERIAL = 'ADD_MATERIAL';\r\nexport const DELETE_MATERIAL = 'DELETE_MATERIAL';\r\nexport const EDIT_MATERIAL = 'EDIT_MATERIAL';\r\n\r\nexport function addItem(item) {\r\n  return {\r\n    type: ADD_ITEM,\r\n    payload: item\r\n  };\r\n}\r\n\r\nexport function deleteItem(id) {\r\n  return {\r\n    type: DELETE_ITEM,\r\n    payload: id\r\n  };\r\n}\r\n\r\nexport function editItem(item) {\r\n  return {\r\n    type: EDIT_ITEM,\r\n    payload: item\r\n  };\r\n}\r\n\r\nexport function addMaterial(material) {\r\n  return {\r\n    type: ADD_MATERIAL,\r\n    payload: material\r\n  };\r\n}\r\n\r\nexport function deleteMaterial(id) {\r\n  return {\r\n    type: DELETE_MATERIAL,\r\n    payload: id\r\n  };\r\n}\r\n\r\nexport function editMaterial(material) {\r\n  return {\r\n    type: EDIT_MATERIAL,\r\n    payload: material\r\n  };\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nfunction Calculator(props) {\r\n\r\n  let startingItem = props.items.length ? props.items[0].value : null;\r\n  let startingMaterial = props.materials.length ? props.materials[0].value : null;\r\n\r\n  let [item, setItem] = useState(startingItem);\r\n  let changeItem = (e) => {\r\n    let id = +e.target.value;\r\n    let target = props.items.find(i => i.id === id);\r\n    setItem(target.value);\r\n  };\r\n\r\n  let [material, setMaterial] = useState(startingMaterial);\r\n  let changeMaterial = (e) => {\r\n    let id = +e.target.value;\r\n    let target = props.materials.find(i => i.id === id);\r\n    setMaterial(target.value);\r\n  };\r\n\r\n  let [count, setCount] = useState('');\r\n  let changeCount = (e) => {\r\n    let value = e.target.value.trim().replace('.', '');\r\n\r\n    if (isFinite(value)) {\r\n      setCount(value);\r\n    }\r\n  };\r\n\r\n  let [result, setResult] = useState(null);\r\n  let calculate = () => {\r\n    setResult(item * material * count);\r\n  };\r\n\r\n\r\n  return (\r\n    <div className='py-3 py-md-0'>\r\n      <div className='row align-items-center justify-content-center'>\r\n        <div className='col-md-5 col-xl-3'>\r\n          <p className='mb-2 mb-md-0'>Предмет</p>\r\n        </div>\r\n        <div className='col-md-5 col-xl-3'>\r\n          {props.items && props.items.length > 0 ? (\r\n            <select className='form-control' name='item' onChange={changeItem}>\r\n              {props.items.map(item => (\r\n                <option key={'i-' + item.id} value={item.id}>{item.name}</option>\r\n              ))}\r\n            </select>\r\n          ) : (\r\n            <select className='form-control' name='item' disabled>\r\n              <option>Нет данных</option>\r\n            </select>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className='row align-items-center justify-content-center mt-3 mt-md-5'>\r\n        <div className='col-md-5 col-xl-3'>\r\n          <p className='mb-2 mb-md-0'>Материал</p>\r\n        </div>\r\n        <div className='col-md-5 col-xl-3'>\r\n          {props.materials && props.materials.length > 0 ? (\r\n            <select className='form-control' name='material' onChange={changeMaterial}>\r\n              {props.materials.map(item => (\r\n                <option key={'m-' + item.id} value={item.id}>{item.name}</option>\r\n              ))}\r\n            </select>\r\n          ) : (\r\n            <select className='form-control' name='material' disabled>\r\n              <option>Нет данных</option>\r\n            </select>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className='row align-items-center justify-content-center mt-3 mt-md-5'>\r\n        <div className='col-md-5 col-xl-3'>\r\n          <p className='mb-2 mb-md-0'>Количество</p>\r\n        </div>\r\n        <div className='col-md-5 col-xl-3'>\r\n          <input className='form-control px-3' type='text' name='count' placeholder='0' value={count} autoComplete='off' onChange={changeCount} />\r\n        </div>\r\n      </div>\r\n      <div className='text-center mt-5'>\r\n        <button type='button' className='btn btn-lg btn-primary' disabled={!item || !material || !count} onClick={calculate}>Рассчитать</button>\r\n      </div>\r\n        {result && <p className='text-center h5 font-weight-normal mt-5 mb-0'>Стоимость составляет <span className='font-weight-bold'>{result}</span> единиц</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Calculator;\r\n","import React, { Fragment } from 'react';\r\n\r\nfunction Modal(props) {\r\n  return(\r\n    <Fragment>\r\n      <div className='modal-backdrop show'></div>\r\n      <div className='modal' onClick={props.onRequestClose}>\r\n        <div className='modal-dialog modal-dialog-centered'>\r\n          <div className='modal-content' onClick={(e) => e.stopPropagation()}>\r\n            <div className='px-4 pt-4 text-center'>\r\n            <h5 className='modal-title'>{props.title}</h5>\r\n            </div>\r\n            <div className='p-4 text-center'>\r\n              <p className='mb-0'>{props.text}</p>\r\n            </div>\r\n            <div className='d-flex justify-content-center px-4 pb-4'>                \r\n              <button type='button' className='btn btn-primary mx-3' onClick={props.onBtnClick}>{props.button}</button>\r\n              {props.addButton && <button type='button' className='btn btn-secondary mx-3' onClick={props.onRequestClose}>{props.addButton}</button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Fragment } from 'react';\r\n\r\nfunction Row(props) {\r\n  return (\r\n    <div className={'row py-3 py-sm-5 py-md-3' + (props.new ? '' : ' border-bottom')}>\r\n      <div className='col-md-2 col-xl-1'>\r\n        <p className='mb-2'>id</p>\r\n        <input className='form-control p-2' type='text' name='id' value={props.id} readOnly={true} />\r\n      </div>\r\n      <div className='col-md mt-3 mt-md-0'>\r\n        <p className='mb-2'>Наименование</p>\r\n        <input className='form-control p-2' type='text' name='name' value={props.name} autoComplete='off' readOnly={!props.editable} onChange={props.onNameChange} />\r\n        {props.rels && (\r\n          <p className='mt-3 mb-2'>Привязки</p>\r\n        )}\r\n      </div>\r\n      <div className='col-md-3 mt-3 mt-md-0 mb-3 mb-sm-0'>\r\n        {props.type === 'items' ? (\r\n          <p className='mb-2'>Площадь, м<sup>2</sup></p>\r\n        ) : (\r\n          <p className='mb-2'>Стоимость м<sup>2</sup>, ед.</p>\r\n        )}\r\n        <input className='form-control p-2' type='text' name='value' value={props.value} autoComplete='off' readOnly={!props.editable} onChange={props.onValueChange} />\r\n      </div>\r\n      <div className='col-md-3 col-lg-2 mt-3 mt-sm-5 mt-md-0 mb-3 mb-sm-0'>\r\n        <div className='row'>\r\n          {props.editable ? (\r\n            <Fragment>\r\n              <div className='col-6 col-md'>\r\n                <button type='button' className='btn btn-sm btn-primary w-100' disabled={props.name === '' || props.value === ''} onClick={props.onSaveClick(props.id, props.name, props.value)}>Сохранить</button>\r\n              </div>\r\n              <div className='col-6 col-md mt-md-2'>\r\n                <button type='button' className='btn btn-sm btn-secondary w-100' disabled={props.editableParameterID} onClick={props.onCancelClick}>Отмена</button>\r\n              </div>\r\n            </Fragment>\r\n          ) : (\r\n            <Fragment>\r\n              <div className='col-6 col-md'>\r\n                <button type='button' className='btn btn-sm btn-primary w-100' disabled={props.disabled} onClick={props.onEditClick(props.id, props.name, props.value)}>Редактировать</button>\r\n              </div>\r\n              <div className='col-6 col-md mt-md-2'>\r\n                <button type='button' className='btn btn-sm btn-secondary w-100' disabled={props.disabled} onClick={props.onDelClick(props.id, props.name)}>Удалить</button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Row;\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Modal from './Modal';\r\nimport Row from './Row';\r\n\r\nfunction Table(props) {\r\n  \r\n  let [delItem, setDelItem] = useState({id: null, name: '', modal: false});\r\n  let acceptDel = (id) => {\r\n    return () => {\r\n      setDelItem({id: null, name: '', modal: false});\r\n      props.onDelete(id)();\r\n    }\r\n  };\r\n  let deleteItem = (id, name) => {\r\n    return () => {\r\n      setDelItem({id, name, modal: true});\r\n    }\r\n  };\r\n  let closeModal = () => setDelItem({...delItem, modal: false});\r\n\r\n  let [activeItem, setActiveItem] = useState({id: null, name: '', value: ''});\r\n  let addItem = (id) => {\r\n    return () => {\r\n      setActiveItem({id, name: '', value: ''});\r\n    }\r\n  };\r\n  let cancelItem = () => {\r\n    setActiveItem({id: null, name: '', value: ''});\r\n  };\r\n  let editItem = (id, name, value) => {\r\n    return () => {\r\n      setActiveItem({id, name, value});\r\n    }\r\n  };\r\n  let saveItem = (id, name, value) => {\r\n    return () => {\r\n      setActiveItem({id: null, name: '', value: ''});\r\n      props.onSave(id, name, value)();\r\n    }\r\n  }\r\n  let inputChange = (input) => {\r\n    return (e) => {\r\n      switch(input) {\r\n        case 'name':\r\n          let name = e.target.value;\r\n          setActiveItem({...activeItem, name});\r\n          break;\r\n        case 'value':\r\n          let value = e.target.value.trim();\r\n          if (isFinite(value)) {\r\n            setActiveItem({...activeItem, value});\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setActiveItem({id: null, name: '', value: ''});\r\n  }, [props.type]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <div>\r\n        <div className='text-right'>\r\n          <button type='button' className='btn btn-primary' disabled={activeItem.id} onClick={addItem('-')}>Добавить</button>\r\n        </div>\r\n        {activeItem.id === '-' && (\r\n          <div className='mt-3 mt-sm-5'>\r\n            <Row\r\n              new\r\n              editable\r\n              id={activeItem.id}\r\n              name={activeItem.name}\r\n              value={activeItem.value}\r\n              type={props.type}\r\n              onNameChange={inputChange('name')}\r\n              onValueChange={inputChange('value')}\r\n              onSaveClick={saveItem}\r\n              onCancelClick={cancelItem}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className='mt-3 mt-sm-5 border-top'>\r\n          {props.data.map(item => (\r\n            <Row\r\n              key={item.id}\r\n              id={item.id}\r\n              name={activeItem.id === item.id ? activeItem.name : item.name}\r\n              value={activeItem.id === item.id ? activeItem.value : item.value}\r\n              type={props.type}\r\n              editable={activeItem.id === item.id}\r\n              disabled={activeItem.id && activeItem.id !== item.id}\r\n              onNameChange={inputChange('name')}\r\n              onValueChange={inputChange('value')}\r\n              onEditClick={editItem}\r\n              onDelClick={deleteItem}\r\n              onSaveClick={saveItem}\r\n              onCancelClick={cancelItem}\r\n            />\r\n          ))}\r\n          {!props.data.length && <p className='mt-5 mb-0 text-center'>Нет данных</p>}\r\n        </div>\r\n      </div>\r\n      {delItem.modal && (\r\n        <Modal\r\n          title={'Удаление ' + (props.type === 'items' ? 'предмета' : 'материала')}\r\n          text={'Вы действительно хотите удалить ' + (props.type === 'items' ? 'предмет ' : 'материал ') + delItem.name + '?'}\r\n          button='Удалить'\r\n          addButton='Отмена'\r\n          onBtnClick={acceptDel(delItem.id)}\r\n          onRequestClose={closeModal}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Table;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addItem, deleteItem, editItem, addMaterial, deleteMaterial, editMaterial } from './redux/actions';\r\nimport Calculator from './components/Calculator';\r\nimport Table from './components/Table';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './App.css';\r\n\r\nfunction App(props) {\r\n\r\n  let tabs = [\r\n    {id: 'items', name: 'Предметы'},\r\n    {id: 'materials', name: 'Материалы'},\r\n    {id: 'calculator', name: 'Расчет'}\r\n  ];\r\n\r\n  let handleDeleteItem = (id) => {\r\n    return () => {\r\n      props.deleteItem(id);\r\n    };\r\n  };\r\n\r\n  let handleSaveItem = (id, name, value) => {\r\n    return () => {\r\n      if (id === '-') {\r\n        props.addItem({name, value});\r\n      } else {\r\n        props.editItem({id, name, value});\r\n      }\r\n    };\r\n  };\r\n  \r\n  let handleDeleteMaterial = (id) => {\r\n    return () => {\r\n      props.deleteMaterial(id);\r\n    };\r\n  };\r\n\r\n  let handleSaveMaterial = (id, name, value) => {\r\n    return () => {\r\n      if (id === '-') {\r\n        props.addMaterial({name, value});\r\n      } else {\r\n        props.editMaterial({id, name, value});\r\n      }\r\n    };\r\n  };\r\n  \r\n\r\n  let [activeTab, setActiveTab] = useState({id: 'items', name: 'Предметы'});\r\n  let changeTab = (tab) => {\r\n    return () => {\r\n      setActiveTab(tab);\r\n    }\r\n  }\r\n  \r\n\r\n  let tabsNav = tabs.map(tab => {\r\n    let classes = ['rounded-0', 'btn', 'btn-primary', 'px-2', 'px-sm-3', 'py-3', 'btn-nav'];\r\n    \r\n    if (activeTab.id === tab.id) {\r\n      classes.push('active');\r\n    }\r\n\r\n    return <button key={tab.id} type='button' className={classes.join(' ')} onClick={changeTab(tab)}>{tab.name}</button>\r\n  });\r\n\r\n  let tabContent = activeTab.id === 'items' ? (\r\n    <Table type='items' data={props.items} onDelete={handleDeleteItem} onSave={handleSaveItem} />\r\n  ) : activeTab.id === 'materials' ? (\r\n    <Table type='materials' data={props.materials} onDelete={handleDeleteMaterial} onSave={handleSaveMaterial} />\r\n  ) : (\r\n    <Calculator items={props.items} materials={props.materials} />\r\n  );\r\n  \r\n  return (\r\n    <div className='pt-5'>\r\n      <div className='bg-primary fixed-top'>\r\n        <div className='container'>\r\n          <div className='d-flex'>\r\n            {tabsNav}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='mt-3 mt-xl-5 py-3 py-sm-5'>\r\n        <div className='container'>\r\n          <h3 className='mb-3 mb-sm-5'>{activeTab.name}</h3>\r\n          {tabContent}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  items: state.items,\r\n  materials: state.materials\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  addItem,\r\n  deleteItem,\r\n  editItem,\r\n  addMaterial,\r\n  deleteMaterial,\r\n  editMaterial\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport { loadState, saveState, throttle } from './redux/localStorage';\r\nimport reducer from './redux/reducers';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nconst initialState = {\r\n  items: [\r\n    {id: 1, name: 'I1', value: '10'},\r\n    {id: 2, name: 'I2', value: '15'},\r\n    {id: 3, name: 'I3', value: '20'}\r\n  ],\r\n  materials: [\r\n    {id: 1, name: 'M1', value: '80'},\r\n    {id: 2, name: 'M2', value: '90'},\r\n    {id: 3, name: 'M3', value: '100'}\r\n  ]\r\n};\r\nconst persistedState = loadState();\r\n\r\nconst store = createStore(reducer, {...initialState, ...persistedState});\r\n\r\nstore.subscribe(throttle(() => {\r\n  saveState(store.getState());\r\n}), 1000);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n","export const loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('myState');\r\n    if (serializedState === null) {\r\n      return undefined;\r\n    }\r\n    return JSON.parse(serializedState);\r\n  } catch(err) {\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state);\r\n    localStorage.setItem('myState', serializedState);\r\n  } catch(err) {\r\n    //\r\n  }\r\n};\r\n\r\nexport const throttle = (func, ms) => {\r\n  let isThrottled = false,\r\n    savedArgs,\r\n    savedThis;\r\n\r\n  function wrapper() {\r\n\r\n    if (isThrottled) {\r\n      savedArgs = arguments;\r\n      savedThis = this;\r\n      return;\r\n    }\r\n\r\n    func.apply(this, arguments);\r\n\r\n    isThrottled = true;\r\n\r\n    setTimeout(function() {\r\n      isThrottled = false;\r\n      if (savedArgs) {\r\n        wrapper.apply(savedThis, savedArgs);\r\n        savedArgs = savedThis = null;\r\n      }\r\n    }, ms);\r\n  }\r\n\r\n  return wrapper;\r\n};\r\n"],"sourceRoot":""}