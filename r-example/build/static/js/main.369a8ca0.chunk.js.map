{"version":3,"sources":["components/Calculator.js","components/Modal.js","components/Table.js","App.js","index.js"],"names":["Calculator","state","items_value","Object","values","props","items","list","length","value","materials_value","materials","count","result","handleCalc","setState","handleCountChange","e","target","trim","replace","isFinite","handleSelectChange","type","id","className","this","name","onChange","map","item","key","disabled","placeholder","autoComplete","onClick","Component","Modal","onRequestClose","stopPropagation","title","text","onBtnClick","button","addButton","Row","new","readOnly","editable","onNameChange","rels","onValueChange","onSaveClick","editableParameterID","onCancelClick","onEditClick","onDelClick","Table","del_ID","del_name","edit_ID","edit_name","edit_value","modal","handleAcceptDelClick","handleAddClick","handleCancelClick","handleDelClick","handleEditClick","handleModalRequestClose","handleNameChange","handleSaveClick","handleValueChange","data","prefix","App","tabId","tabName","tabs","handleChangeTabClick","tab","assign","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.369a8ca0.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Calculator extends Component {\r\n  state = {\r\n    items_value: Object.values(this.props.items.list).length ? Object.values(this.props.items.list)[0].value : null,\r\n    materials_value: Object.values(this.props.materials.list).length ? Object.values(this.props.materials.list)[0].value : null,\r\n    count: '',\r\n    result: null\r\n  }\r\n\r\n  handleCalc = () => {\r\n    this.setState(state => {\r\n      return {\r\n        result: state.items_value * state.materials_value * state.count\r\n      };\r\n    });\r\n  }\r\n\r\n  handleCountChange = (e) => {\r\n    const value = e.target.value.trim().replace('.', '');\r\n\r\n    if (isFinite(value)) {\r\n      this.setState({\r\n        count: value\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSelectChange = (type) => {\r\n    return (e) => {\r\n      const id = e.target.value;\r\n\r\n      this.setState({\r\n        [type + '_value']: this.props[type].list[id].value\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='py-3 py-md-0'>\r\n        <div className='row align-items-center justify-content-center'>\r\n          <div className='col-md-5 col-xl-3'>\r\n            <p className='mb-2 mb-md-0'>Предмет</p>\r\n          </div>\r\n          <div className='col-md-5 col-xl-3'>\r\n            {Object.values(this.props.items.list) && Object.values(this.props.items.list).length > 0 ? (\r\n              <select className='form-control' name='item' onChange={this.handleSelectChange('items')}>\r\n                {Object.values(this.props.items.list).map(item => (\r\n                  <option key={item.id} value={item.id}>{item.name}</option>\r\n                ))}\r\n              </select>\r\n            ) : (\r\n              <select className='form-control' name='item' disabled>\r\n                <option>Нет данных</option>\r\n              </select>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='row align-items-center justify-content-center mt-3 mt-md-5'>\r\n          <div className='col-md-5 col-xl-3'>\r\n            <p className='mb-2 mb-md-0'>Материал</p>\r\n          </div>\r\n          <div className='col-md-5 col-xl-3'>\r\n            {Object.values(this.props.materials.list) && Object.values(this.props.materials.list).length > 0 ? (\r\n              <select className='form-control' name='material' onChange={this.handleSelectChange('materials')}>\r\n                {Object.values(this.props.materials.list).map(item => (\r\n                  <option key={item.id} value={item.id}>{item.name}</option>\r\n                ))}\r\n              </select>\r\n            ) : (\r\n              <select className='form-control' name='material' disabled>\r\n                <option>Нет данных</option>\r\n              </select>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='row align-items-center justify-content-center mt-3 mt-md-5'>\r\n          <div className='col-md-5 col-xl-3'>\r\n            <p className='mb-2 mb-md-0'>Количество</p>\r\n          </div>\r\n          <div className='col-md-5 col-xl-3'>\r\n            <input className='form-control px-3' type='text' name='count' placeholder='0' value={this.state.count} autoComplete='off' onChange={this.handleCountChange} />\r\n          </div>\r\n        </div>\r\n        <div className='text-center mt-5'>\r\n          <button type='button' className='btn btn-lg btn-primary' disabled={!this.state.items_value || !this.state.materials_value || !this.state.count} onClick={this.handleCalc}>Рассчитать</button>\r\n        </div>\r\n          {this.state.result && <p className='text-center h5 font-weight-normal mt-5 mb-0'>Стоимость составляет <span className='font-weight-bold'>{this.state.result}</span> единиц</p>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Calculator;\r\n","import React, { Fragment } from 'react';\r\n\r\nfunction Modal(props) {\r\n  return(\r\n    <Fragment>\r\n      <div className='modal-backdrop show'></div>\r\n      <div className='modal' onClick={props.onRequestClose}>\r\n        <div className='modal-dialog modal-dialog-centered'>\r\n          <div className='modal-content' onClick={(e) => e.stopPropagation()}>\r\n            <div className='px-4 pt-4 text-center'>\r\n            <h5 className='modal-title'>{props.title}</h5>\r\n            </div>\r\n            <div className='p-4 text-center'>\r\n              <p className='mb-0'>{props.text}</p>\r\n            </div>\r\n            <div className='d-flex justify-content-center px-4 pb-4'>                \r\n              <button type='button' className='btn btn-primary mx-3' onClick={props.onBtnClick}>{props.button}</button>\r\n              {props.addButton && <button type='button' className='btn btn-secondary mx-3' onClick={props.onRequestClose}>{props.addButton}</button>}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component, Fragment } from 'react';\r\nimport Modal from '../components/Modal';\r\n\r\nfunction Row(props) {\r\n  return (\r\n    <div className={'row py-3 py-sm-5 py-md-3' + (props.new ? '' : ' border-bottom')}>\r\n      <div className='col-md-2 col-xl-1'>\r\n        <p className='mb-2'>id</p>\r\n        <input className='form-control p-2' type='text' name='id' value={props.id} readOnly={true} />\r\n      </div>\r\n      <div className='col-md mt-3 mt-md-0'>\r\n        <p className='mb-2'>Наименование</p>\r\n        <input className='form-control p-2' type='text' name='name' value={props.name} autoComplete='off' readOnly={!props.editable} onChange={props.onNameChange} />\r\n        {props.rels && (\r\n          <p className='mt-3 mb-2'>Привязки</p>\r\n        )}\r\n      </div>\r\n      <div className='col-md-3 mt-3 mt-md-0 mb-3 mb-sm-0'>\r\n        {props.type === 'items' ? (\r\n          <p className='mb-2'>Площадь, м<sup>2</sup></p>\r\n        ) : (\r\n          <p className='mb-2'>Стоимость м<sup>2</sup>, ед.</p>\r\n        )}\r\n        <input className='form-control p-2' type='text' name='value' value={props.value} autoComplete='off' readOnly={!props.editable} onChange={props.onValueChange} />\r\n      </div>\r\n      <div className='col-md-3 col-lg-2 mt-3 mt-sm-5 mt-md-0 mb-3 mb-sm-0'>\r\n        <div className='row'>\r\n          {props.editable ? (\r\n            <Fragment>\r\n              <div className='col-6 col-md'>\r\n                <button type='button' className='btn btn-sm btn-primary w-100' disabled={props.name === '' || props.value === ''} onClick={props.onSaveClick(props.id, props.name, props.value)}>Сохранить</button>\r\n              </div>\r\n              <div className='col-6 col-md mt-md-2'>\r\n                <button type='button' className='btn btn-sm btn-secondary w-100' disabled={props.editableParameterID} onClick={props.onCancelClick}>Отмена</button>\r\n              </div>\r\n            </Fragment>\r\n          ) : (\r\n            <Fragment>\r\n              <div className='col-6 col-md'>\r\n                <button type='button' className='btn btn-sm btn-primary w-100' disabled={props.disabled} onClick={props.onEditClick(props.id, props.name, props.value)}>Редактировать</button>\r\n              </div>\r\n              <div className='col-6 col-md mt-md-2'>\r\n                <button type='button' className='btn btn-sm btn-secondary w-100' disabled={props.disabled} onClick={props.onDelClick(props.id, props.name)}>Удалить</button>\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass Table extends Component {\r\n  state = {\r\n    del_ID: null,\r\n    del_name: '',\r\n    edit_ID: null,\r\n    edit_name: '',\r\n    edit_value: '',\r\n    modal: null\r\n  }\r\n\r\n  handleAcceptDelClick = (id) => {\r\n    return () => {\r\n      this.setState({\r\n        del_ID: null,\r\n        del_name: '',\r\n        modal: null\r\n      });\r\n\r\n      this.props.onDelClick(id)();\r\n    }\r\n  }\r\n\r\n  handleAddClick = (id) => {\r\n    return () => {\r\n      this.setState({\r\n        edit_ID: id,\r\n        edit_name: '',\r\n        edit_value: ''\r\n      });\r\n    }\r\n  }\r\n\r\n  handleCancelClick = () => {\r\n    this.setState({\r\n      edit_ID: null,\r\n      edit_name: '',\r\n      edit_value: ''\r\n    });\r\n  }\r\n\r\n  handleDelClick = (id, name) => {\r\n    return () => {\r\n      this.setState({\r\n        del_ID: id,\r\n        del_name: name,\r\n        modal: 'del'\r\n      });\r\n    }\r\n  }\r\n\r\n  handleEditClick = (id, name, value) => {\r\n    return () => {\r\n      this.setState({\r\n        edit_ID: id,\r\n        edit_name: name,\r\n        edit_value: value\r\n      });\r\n    }\r\n  }\r\n\r\n  handleModalRequestClose = () => {\r\n    this.setState({\r\n      modal: null\r\n    });\r\n  }\r\n\r\n  handleNameChange = (e) => {\r\n    const value = e.target.value;\r\n\r\n    this.setState({\r\n      edit_name: value\r\n    });\r\n  }\r\n\r\n  handleSaveClick = (id, name, value) => {\r\n    return () => {\r\n      this.setState({\r\n        edit_ID: null,\r\n        edit_name: '',\r\n        edit_value: ''\r\n      });\r\n\r\n      this.props.onSaveClick(id, name, value)();\r\n    }\r\n  }\r\n\r\n  handleValueChange = (e) => {\r\n    const value = e.target.value.trim();\r\n\r\n    if (isFinite(value)) {\r\n      this.setState({\r\n        edit_value: value\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div>\r\n          <div className='text-right'>\r\n            <button type='button' className='btn btn-primary' disabled={this.state.edit_ID} onClick={this.handleAddClick(this.props.data.prefix + this.props.data.count)}>Добавить</button>\r\n          </div>\r\n          {this.state.edit_ID === (this.props.data.prefix + this.props.data.count) && (\r\n            <div className='mt-3 mt-sm-5'>\r\n              <Row\r\n                new\r\n                editable\r\n                id={this.state.edit_ID}\r\n                name={this.state.edit_name}\r\n                value={this.state.edit_value}\r\n                type={this.props.type}\r\n                onNameChange={this.handleNameChange}\r\n                onValueChange={this.handleValueChange}\r\n                onSaveClick={this.handleSaveClick}\r\n                onCancelClick={this.handleCancelClick}\r\n              />\r\n            </div>\r\n          )}\r\n          <div className='mt-3 mt-sm-5 border-top'>\r\n            {Object.values(this.props.data.list).map(item => (\r\n              <Row\r\n                key={item.id}\r\n                id={item.id}\r\n                name={this.state.edit_ID === item.id ? this.state.edit_name : item.name}\r\n                value={this.state.edit_ID === item.id ? this.state.edit_value : item.value}\r\n                type={this.props.type}\r\n                editable={this.state.edit_ID === item.id}\r\n                disabled={this.state.edit_ID && this.state.edit_ID !== item.id}\r\n                onNameChange={this.handleNameChange}\r\n                onValueChange={this.handleValueChange}\r\n                onEditClick={this.handleEditClick}\r\n                onDelClick={this.handleDelClick}\r\n                onSaveClick={this.handleSaveClick}\r\n                onCancelClick={this.handleCancelClick}\r\n              />\r\n            ))}\r\n            {!Object.values(this.props.data.list).length && <p className='mt-5 mb-0 text-center'>Нет данных</p>}\r\n          </div>\r\n        </div>\r\n        {this.state.modal && (\r\n          <Modal\r\n            title={'Удаление ' + (this.props.type === 'items' ? 'предмета' : 'материала')}\r\n            text={'Вы действительно хотите удалить ' + (this.props.type === 'items' ? 'предмет ' : 'материал ') + this.state.del_name + '?'}\r\n            button='Удалить'\r\n            addButton='Отмена'\r\n            onBtnClick={this.handleAcceptDelClick(this.state.del_ID)}\r\n            onRequestClose={this.handleModalRequestClose}\r\n          />\r\n        )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Table;\r\n","import React, { Component } from 'react';\r\nimport Calculator from './components/Calculator';\r\nimport Table from './components/Table';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    items: {\r\n      list: {\r\n        'i-1': {id: 'i-1', name: 'I1', value: '10'},\r\n        'i-2': {id: 'i-2', name: 'I2', value: '15'},\r\n        'i-3': {id: 'i-3', name: 'I3', value: '20'}\r\n      },\r\n      prefix: 'i-',\r\n      count: 4\r\n    },\r\n    materials: {\r\n      list: {\r\n        'm-1': {id: 'm-1', name: 'M1', value: '80'},\r\n        'm-2': {id: 'm-2', name: 'M2', value: '90'},\r\n        'm-3': {id: 'm-3', name: 'M3', value: '100'},\r\n      },      \r\n      prefix: 'm-',\r\n      count: 4\r\n    },\r\n    tabId: 'items',\r\n    tabName: 'Предметы'\r\n  }\r\n\r\n  tabs = [\r\n    {id: 'items', name: 'Предметы'},\r\n    {id: 'materials', name: 'Материалы'},\r\n    {id: 'calculator', name: 'Расчет'}\r\n  ]\r\n\r\n  handleChangeTabClick = (tab) => {\r\n    return () => {\r\n      this.setState({\r\n        tabId: tab.id,\r\n        tabName: tab.name\r\n      });\r\n    }\r\n  }\r\n\r\n  handleDelClick = (id) => {\r\n    return () => {\r\n      this.setState(state => {\r\n        const type = state.tabId;\r\n        const items = Object.assign({}, state[type]);\r\n\r\n        delete items.list[id];\r\n\r\n        return {\r\n          [type]: items\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSaveClick = (id, name, value) => {\r\n    return () => {\r\n      this.setState(state => {\r\n        const type = state.tabId;\r\n        const items = Object.assign({}, state[type]);\r\n\r\n        if (!items.list[id]) {\r\n          items.count++;\r\n        }\r\n\r\n        items.list[id] = {id, name, value};\r\n\r\n        return {\r\n          [type]: items\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='pt-5'>\r\n        <div className='bg-primary fixed-top'>\r\n          <div className='container'>\r\n            <div className='d-flex'>\r\n              {this.tabs.map(tab => (\r\n                <button key={tab.id} type='button' className={'rounded-0 btn btn-primary px-2 px-sm-3 py-3 btn-nav' + (this.state.tabId === tab.id ? ' active' : '')} onClick={this.handleChangeTabClick(tab)}>{tab.name}</button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='mt-3 mt-xl-5 py-3 py-sm-5'>\r\n          <div className='container'>\r\n            <h3 className='mb-3 mb-sm-5'>{this.state.tabName}</h3>\r\n            {this.state.tabId === 'calculator' ? (\r\n              <Calculator items={this.state.items} materials={this.state.materials} />\r\n            ) : (\r\n              <Table key={this.state.tabId} type={this.state.tabId} data={this.state[this.state.tabId]} onSaveClick={this.handleSaveClick} onDelClick={this.handleDelClick} />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}